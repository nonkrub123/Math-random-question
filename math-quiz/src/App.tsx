import React, { useState } from "react";

const App: React.FC = () => {
  const questions = [
    { problem: "คำนวณ 4! (4 แฟกทอเรียล)", answer: 24 },
    { problem: "มีคน 3 คน จะจัดเรียงในแถวได้กี่วิธี?", answer: 6 }, // 3!
    { problem: "จากตัวเลข 1, 2, 3 จะเลือก 2 ตัวโดยไม่สนลำดับได้กี่วิธี?", answer: 3 }, // C(3, 2)
    { problem: "มีคน 5 คน จะจัดเรียงในรูปแบบวงกลมได้กี่วิธี?", answer: 24 }, // (5-1)!
    { problem: "มีลูกบอล 7 ลูก จะจัดเรียงได้กี่วิธี?", answer: 5040 }, // 7!
    { problem: "จากตัวเลข 1, 2, 3, 4 จะเลือก 2 ตัวมาเรียงลำดับได้กี่วิธี?", answer: 12 }, // P(4, 2)
    { problem: "จากตัวอักษร A, B, C, D จะจัดกลุ่มละ 3 ตัวโดยไม่สนลำดับได้กี่วิธี?", answer: 4 }, // C(4, 3)
    { problem: "มีคน 8 คน จะจัดเรียงในรูปแบบวงกลมได้กี่วิธี?", answer: 5040 }, // (8-1)!
    { problem: "ในกลุ่มคน 6 คน จะเลือกมา 2 คนได้กี่วิธี?", answer: 15 }, // C(6, 2)
    { problem: "มีตัวเลข 1, 2, 3, 4, 5 จะเลือกตัวเลข 3 ตัวเรียงลำดับได้กี่วิธี?", answer: 60 }, // P(5, 3)
    { problem: "คำนวณ 6! (6 แฟกทอเรียล)", answer: 720 },
    { problem: "มีลูกบอล 10 ลูก จะเลือก 4 ลูกมาเรียงลำดับได้กี่วิธี?", answer: 5040 }, // P(10, 4)
    { problem: "จากตัวเลข 1, 2, 3 จะเลือกตัวเลข 1 ตัวได้กี่วิธี?", answer: 3 }, // C(3, 1)
    { problem: "จากตัวอักษร A, B, C, D จะเลือกเรียงลำดับตัวอักษรทั้งหมดได้กี่วิธี?", answer: 24 }, // 4!
    { problem: "จากกลุ่มนักเรียน 9 คน จะเลือกมา 3 คนเพื่อจับกลุ่มได้กี่วิธี?", answer: 84 }, // C(9, 3)
    { problem: "มีตัวเลข 1, 2, 3, 4, 5 จะเลือกตัวเลขทั้งหมดโดยไม่สนลำดับได้กี่วิธี?", answer: 1 }, // C(5, 5)
    { problem: "ในกลุ่มนักเรียน 12 คน จะเลือกมา 5 คนได้กี่วิธี?", answer: 792 }, // C(12, 5)
    { problem: "คำนวณ 7! (7 แฟกทอเรียล)", answer: 5040 },
    { problem: "จากตัวเลข 1, 2, 3, 4 จะเลือก 3 ตัวมาเรียงลำดับได้กี่วิธี?", answer: 24 }, // P(4, 3)
    { problem: "มีตัวอักษร 4 ตัว จะจัดเรียงในรูปแบบวงกลมได้กี่วิธี?", answer: 6 }, // (4-1)!
    { problem: "จากกลุ่มนักเรียน 5 คน จะเลือกมา 3 คนเพื่อจับกลุ่มได้กี่วิธี?", answer: 10 }, // C(5, 3)
    { problem: "ในกลุ่มคน 8 คน จะเลือกมา 4 คนได้กี่วิธี?", answer: 70 }, // C(8, 4)
    { problem: "มีลูกบอล 5 ลูก จะเลือกมา 3 ลูกเรียงลำดับได้กี่วิธี?", answer: 60 }, // P(5, 3)
    { problem: "คำนวณ 8! (8 แฟกทอเรียล)", answer: 40320 },
    { problem: "มีตัวเลข 1, 2, 3 จะเลือกตัวเลขทั้งหมดโดยไม่สนลำดับได้กี่วิธี?", answer: 1 }, // C(3, 3)
    { problem: "มีตัวเลข 1, 2, 3, 4, 5 จะเลือก 2 ตัวเรียงลำดับได้กี่วิธี?", answer: 20 }, // P(5, 2)
    { problem: "จากตัวอักษร A, B, C จะจัดกลุ่มละ 2 ตัวได้กี่วิธี?", answer: 3 }, // C(3, 2)
    { problem: "จากตัวเลข 1, 2, 3, 4 จะจัดเรียงในแถวได้กี่วิธี?", answer: 24 }, // 4!
    { problem: "จากตัวเลข 1, 2, 3, 4, 5, 6 จะเลือก 3 ตัวเพื่อเรียงลำดับได้กี่วิธี?", answer: 120 }, // P(6, 3)
    { problem: "คำนวณ 9! (9 แฟกทอเรียล)", answer: 362880 },
    { problem: "ในกลุ่มนักเรียน 10 คน จะเลือกมา 6 คนได้กี่วิธี?", answer: 210 }, // C(10, 6)
    { problem: "จากตัวอักษร A, B, C, D, E จะจัดเรียง 3 ตัวได้กี่วิธี?", answer: 60 }, // P(5, 3)
    { problem: "มีตัวเลข 1, 2, 3 จะจัดเรียงในรูปแบบวงกลมได้กี่วิธี?", answer: 2 }, // (3-1)!
    { problem: "จากตัวเลข 1, 2, 3, 4 จะเลือก 2 ตัวมาเรียงลำดับได้กี่วิธี?", answer: 12 }, // P(4, 2)
    { problem: "คำนวณ 10! (10 แฟกทอเรียล)", answer: 3628800 },
    { problem: "จากตัวเลข 1, 2, 3, 4, 5 จะเลือก 3 ตัวโดยไม่สนลำดับได้กี่วิธี?", answer: 10 }, // C(5, 3)
    { problem: "ในกลุ่มนักเรียน 7 คน จะเลือกมา 4 คนได้กี่วิธี?", answer: 35 }, // C(7, 4)
    { problem: "มีตัวอักษร 5 ตัว จะจัดเรียงในรูปแบบวงกลมได้กี่วิธี?", answer: 24 }, // (5-1)!
    { problem: "จากตัวอักษร A, B, C, D จะจัดเรียงตัวอักษรทั้งหมดได้กี่วิธี?", answer: 24 }, // 4!
    { problem: "จากตัวเลข 1, 2, 3, 4 จะจัดกลุ่มละ 3 ตัวโดยไม่สนลำดับได้กี่วิธี?", answer: 4 }, // C(4, 3)
    { problem: "จากตัวเลข 1, 2, 3 จะจัดกลุ่มละ 2 ตัวโดยไม่สนลำดับได้กี่วิธี?", answer: 3 }, // C(3, 2)
    { problem: "คำนวณ 11! (11 แฟกทอเรียล)", answer: 39916800 },
    { problem: "จากกลุ่มนักเรียน 15 คน จะเลือกมา 5 คนได้กี่วิธี?", answer: 3003 }, // C(15, 5)
    { problem: "มีลูกบอล 6 ลูก จะจัดเรียงในแถวได้กี่วิธี?", answer: 720 }, // 6!
    { problem: "จากตัวเลข 1, 2, 3, 4, 5, 6 จะเลือกตัวเลขทั้งหมดโดยไม่สนลำดับได้กี่วิธี?", answer: 1 }, // C(6, 6)
    { problem: "จากตัวเลข 1, 2, 3, 4, 5 จะเลือก 2 ตัวมาเรียงลำดับได้กี่วิธี?", answer: 20 }, // P(5, 2)
    { problem: "จากตัวเลข 1, 2, 3 จะเลือกตัวเลข 1 ตัวได้กี่วิธี?", answer: 3 }, // C(3, 1)
    { problem: "ในกลุ่มนักเรียน 4 คน จะจัดเรียงในแถวได้กี่วิธี?", answer: 24 }, // 4!
    { problem: "จากตัวอักษร A, B, C, D, E จะเลือกเรียงลำดับ 2 ตัวได้กี่วิธี?", answer: 20 }, // P(5, 2)
    { problem: "ในกลุ่มนักเรียน 5 คน จะเลือกมา 3 คนได้กี่วิธี?", answer: 10 }, // C(5, 3)
    { problem: "คำนวณ 12! (12 แฟกทอเรียล)", answer: 479001600 },
  ];
  

  const [currentQuestionIndex, setCurrentQuestionIndex] = useState<number>(0);
  const [userAnswer, setUserAnswer] = useState<string>('');
  const [isAnswerCorrect, setIsAnswerCorrect] = useState<boolean | null>(null);
  const [punishment, setPunishment] = useState<string | null>(null);

  const punishments = [
    "กระโดดตบ 5 ครั้ง",
    "ทำ Push-up 5 ครั้ง",
    "ทำ Squats 5 ครั้ง",
    "ร้องเพลง 1 ท่อน",
    "เดินแบบ roblox",
    "ดึงไม้เพิ่มอีก 1 อัน",
    "เปิดเพลง thick of it จนจบเพลง",
    "ดึงไม้เพิ่มอีก 2 อัน",
    "Twerk for 5 minu- I mean 5 seconds",
    "เปิดหน้า feed instragram",
    "เปิดเพลง skibi toilet จนจบเพลง",
    "พูด Erm, actually พร้อมทั้งชูนิ้วชี้",
    "ร้องเพลงหมาป่าเดัยวดาย( ตอนนี้แปลงร่างเป็นหมาป่าเดียวดาย กูจะออกล่ามึงระวังเอาไว้ กูกระโดดกัดคอ กระโดดกัดคอ กูกระโดดกัดคอ โอ้ย นี่มึงคิดว่ากูเบียวใช่ไหม กูได้กลิ่นความกลัวกระจาย กูกระโดดกัดคอ กระโดดกัดคอ กระโดดกัดคอ",
    "พูดอะไรเบียวๆ ให้เพื่อนฟัง",
    "ร้องเพลงชาติ",
    "Change Your discord to light theme",
    "เตะบอลอัดยิหวา(optionalนะ จะเตะใส่ใครก็ได้ แต่บอลเบานะ lmao)",
    "ร้องเพลงโกโกวา (เนื้อ: มาแล้วลูกจ๊า ชุดโกโกวาที่หนูอยากได้ โกโกวาที่หนูอยากใส่ โกโกวาคิมิซิตนิตา มาแล้วลูกจ๊า ชุดโกโกวาที่หนูอยากได้ โกโกวาที่หนูอยากใส่ โกโกวาคิมิซิตนิตา",
    "Moon walk รอบห้อง พร้อมพูด hee hee ตลอดทาง",
    "แกล้งเป็นหุ่นยนต์พูด 'บี๊บ บอป' 5 ครั้ง",
    "เลียนเสียงไก่ขันให้เหมือนที่สุด 3 ครั้ง",
    "เดินไปหาคนข้างๆ แล้วพูดว่า 'ขอยืมเงินหน่อย!'",
    "ยิ้มกว้างที่สุดที่ทำได้ 10 วินาที",
    "Smile creepily to your friends for 10 seconds",
    "แกล้งคุยกับกำแพงเหมือนมันตอบกลับมา",
    "ทำท่าเหมือนว่ายน้ำอยู่กลางอากาศ 10 วินาที",
    "พูด 'รักนะจุ๊บๆ' พร้อมส่งจูบให้เพื่อน",
    "ยืนขึ้นแล้วตะโกนว่า 'ฉันคือเจ้าแห่งโลกนี้!'",
    "ทำท่าเต้น 'ไก่ย่างถูกเผา' 10 วินาที",
    "เต้นเพลง 'กังนัมสไตล์' 5 วินาที",
    "แกล้งเป็นนางร้ายในละครแล้วพูดว่า 'ฉันจะเอาคืนพวกแก!'",
    "ไม่ต้องมีบทลงโทษ ชีวิตเจ้าอนาถพอแล้ว",
    "There's no need for a joke if you life is already a joke",
    "พูดอะไรตลกๆ หรือ meme อะไรก็ได้",
    "plank ให้ได้นานที่สุด",
    "เล่น truth or dare กับเพื่อนคนนึง 1 ตา",
    "พูด top 10 คนที่โครตจะเหมือนผม",
    "เลียนแบบคำพูด หรือ ท่าทางเพื่อนสักคน",
    "เล่นมุกอะไรก็ได้"
  ];

  const handleAnswerSubmit = () => {
    const correctAnswer = questions[currentQuestionIndex].answer;
    if (parseInt(userAnswer) === correctAnswer) {
      setIsAnswerCorrect(true);
    } else {
      setIsAnswerCorrect(false);
      setPunishment(punishments[Math.floor(Math.random() * punishments.length)]);
    }
  };

  const handleNextQuestion = () => {
    setIsAnswerCorrect(null);
    setPunishment(null);
    setUserAnswer('');
    setCurrentQuestionIndex((prevIndex) => (prevIndex + 1) % questions.length);
  };

  return (
    <div className="container">
      <div className="content">
        <h1>คำถามคณิตศาสตร์</h1>
        <div>
          <p>{questions[currentQuestionIndex].problem}</p>

          {isAnswerCorrect === null ? (
            <div className="input-box">
              <input
                type="number"
                value={userAnswer}
                onChange={(e) => setUserAnswer(e.target.value)}
                placeholder="กรอกคำตอบ"
              />
              <button onClick={handleAnswerSubmit}>ยืนยันคำตอบ</button>
            </div>
          ) : (
            <div>
              {isAnswerCorrect ? (
                <p className="correct-answer">คำตอบถูกต้อง! 🎉</p>
              ) : (
                <div>
                  <p className="incorrect-answer">คำตอบผิด! 😥</p>
                  <p>บทลงโทษ: {punishment}</p>
                </div>
              )}
              <button onClick={handleNextQuestion}>ถามคำถามถัดไป</button>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default App;